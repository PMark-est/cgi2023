<div class="container mat-elevation-z4">
  <mat-card class="mat-card">
    <div class="search">
      <input
        id="searchbar"
        [(ngModel)]="title"
        type="text"
        placeholder="Otsi raamatut"
        (keyup.enter)="searchForBook()"
        autocomplete="off"
      />
    </div>
    <mat-paginator
      [pageIndex]="pageNumber"
      [pageSize]="pageSize"
      [length]="pageAmount"
      (page)="handlePageEvent($event)"
      [hidePageSize]="true"
      [showFirstLastButtons]="true"
      aria-label="Select page"
    >
    </mat-paginator>
    <mat-card-title class="books-title"
      >Books
      <button
        mat-button
        color="primary"
        class="btn-add"
        (click)="toggleAddBooks()"
      >
        Lisa raamat
      </button>
    </mat-card-title>
    <app-add-book *ngIf="showAddForm"></app-add-book>
    <mat-card-content>
      <mat-nav-list *ngIf="books$! | async as books">
        <a
          mat-list-item
          *ngFor="let book of books.content"
          [routerLink]="['/books', book.id]"
          [queryParams]="{ page: '{page}' }"
        >
          {{ book.title }}
        </a>
      </mat-nav-list>
    </mat-card-content>
  </mat-card>
</div>
